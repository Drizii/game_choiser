{% extends 'base.html' %}
{% block title %}Wyszukiwacz{% endblock %}

    <title>Wybieracz gier</title>
{% block body %}
    <h1>Witaj, jakiej gry szukasz?</h1>
<!-- Tu jest lista gier, która się rozwija i wybiera i pokazuje gry tylko z danego typu
korzysta to z forms GameTypeForm, ale dlaczego on taki mądry i od razu robi mi rozwijana liste, to nie wiem -->
<form method="get", action="" id="searchform"></br>
    <table>
{{ form.as_table }}
    </table>
    </br><input type="submit" value="Wybierz">&nbsp;&nbsp;&nbsp;&nbsp;
    <input type="button" value="Wróć do strony wyszukiwania" onclick="window.location.href = 'http://127.0.0.1:8000/a/'">
</form></br>
                    <!--To wyświetla wszystkie pozycje z bazy danych na stronie-->

<table style="width:100%" >
  <tr>
    <th>Nazwa gry</th>
    <th>Zdjecie</th>
    <th>Rodzaj gry</th>
    <td>Minimalna liczba graczy</td>
    <td>Maksymalna liczba graczy</td>
    <td>Właściciele: </td>
  </tr>
    {% for game in game_list %}
  <tr>
    <td> <a href="{{ game.get_absolute_url }} ">{{ game.name }}</a></td> <!-- ten url tu prawidłowo prowadzi do GameDetailView -->
    <td>{% if game.image %}<img src="{{ game.image.url }}" alt="...">{% endif %}</td>
    <td>{{ game.game_type }}</td>
    <td>{{ game.min_player }}</td>
    <td>{{ game.max_player }}</td>
    <td>{% for owner in game.owner.all  %}<a href="{{ owner.get_absolute_url }}">{{ owner }}</a>{% if not forloop.last %}, {% endif %} {% endfor %}</td>
  </tr>
    {% endfor %}
</table>
{% endblock %}